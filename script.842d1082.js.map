{"version":3,"sources":["js/hero.js","js/buildState.js","js/script.js"],"names":["Hero","constructor","name","dateOfBirth","eyeColour","hairColour","gender","hogwartsStaff","hogwartsStudent","house","image","patronus","species","alive","actor","fromHogwarts","hogwarts","assignHoggwarts","slice","id","FORM_STATE","faculty","values","inputClasses","imgClasses","labelClasses","formClasses","spanClasses","imgUrls","Gryffindor","gryffindorUrl","Hufflepuff","hufflepuffUrl","Ravenclaw","ravenclawUrl","Slytherin","slytherinUrl","All","allUrl","filter","fieldsetClasses","legendClasses","legend","random","URL_ADDR","getheroesFromServer","fetch","then","response","json","dataHeroes","window","constructHeroesList","catch","error","Error","heroes","map","item","hero","getRandomHero","Math","floor","length","getHero","find","filterFromState","fileteredHeroes","Object","entries","STATE","reduce","initial","entry","result","key","value","newdataHeroes","toLowerCase","includes","Promise","resolve","reject","resultHeroes","generateOccupation","occupationTemplate","renderHeroSmall","template","styles","renderHeroBig","renderHeroesList","forEach","heroTemplate","createImg","state","_class","join","createInputContainer","imgNeed","isFieldset","label","createInput","templateInput","createForm","formState","listener","resetNeed","isSearchNeed","resetFilterHandler","_state","createHeader","funcFaculty","header","wrapper","title","createAside","filterHandler","resetHandler","aside","createMain","heroList","cardHandler","buttons","sliderMove","main","results","createErrorTemplate","hat","img","reloadApp","createBodyMain","heroesList","formHandler","renderApp","heroesListTemplate","formFilterHandler","document","querySelector","innerHTML","updateUrl","url","URL","location","href","param","searchParam","searchParams","get","history","pushState","setUrl","search","delete","set","event","element","target","closest","staff","isAlive","createApp","card","dataset","some","slider","sliderWidth","offsetWidth","cardWidth","direction","dir","cardsPerSlider","round","totalSliderWidth","children","left","style","parseInt","abs"],"mappings":"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","file":"script.842d1082.js","sourceRoot":"..","sourcesContent":["class Hero {\n  constructor({\n    name,\n    dateOfBirth,\n    eyeColour,\n    hairColour,\n    gender,\n    hogwartsStaff,\n    hogwartsStudent,\n    house,\n    image,\n    patronus,\n    species,\n    alive,\n    actor,\n  }) {\n    this.name = name;\n    this.dateOfBirth = dateOfBirth;\n    this.eyeColour = eyeColour;\n    this.hairColour = hairColour;\n    this.gender = gender;\n    this.hogwartsStaff = hogwartsStaff;\n    this.hogwartsStudent = hogwartsStudent;\n    this.hogwarts = this.assignHoggwarts();\n    this.house = house;\n    this.patronus = patronus;\n    this.species = species;\n    this.image = `${image.slice(0, 4)}s${image.slice(4)}`;\n    this.alive = alive === true ? 'alive' : 'dead';\n    this.actor = actor;\n    this.id = null;\n  }\n\n  fromHogwarts = () => !!(this.hogwartsStaff || this.hogwartsStudent);\n\n  assignHoggwarts = () => {\n    switch (this.fromHogwarts()) {\n      case true:\n        switch (this.hogwartsStaff) {\n          case true:\n            return 'staff';\n          default:\n            return 'student';\n        }\n      default:\n        return '';\n    }\n  };\n}\n\nexport default Hero;\n","import allUrl from '../img/all.png';\nimport gryffindorUrl from '../img/gryffindor.png';\nimport hufflepuffUrl from '../img/hufflepuff.png';\nimport ravenclawUrl from '../img/ravenclaw.png';\nimport slytherinUrl from '../img/slytherin.png';\n\nconst FORM_STATE = {\n  faculty: [\n    {\n      name: 'house',\n      values: ['Gryffindor', 'Hufflepuff', 'Ravenclaw', 'Slytherin', 'All'],\n      inputClasses: ['faculty-form__box', 'visually-hidden'],\n      imgClasses: ['img-checkbox'],\n      labelClasses: [],\n      formClasses: ['form', 'faculty-form'],\n      spanClasses: ['visually-hidden'],\n      imgUrls: {\n        Gryffindor: gryffindorUrl,\n        Hufflepuff: hufflepuffUrl,\n        Ravenclaw: ravenclawUrl,\n        Slytherin: slytherinUrl,\n        All: allUrl,\n      },\n    },\n  ],\n\n  filter: [\n    {\n      name: 'hogwarts',\n      values: ['Staff', 'Student', '', 'All'],\n      inputClasses: ['input radio-input', 'filter-form-input__radio', 'visually-hidden'],\n      imgClasses: [],\n      labelClasses: ['form-label', 'filter-form__label'],\n      formClasses: ['form', 'filter-form'],\n      spanClasses: ['label', 'label-radio'],\n      fieldsetClasses: ['fieldset', 'filter-form__fieldset'],\n      legendClasses: ['legend', 'filter-form__legend'],\n      legend: 'Filter by Staff',\n    },\n\n    {\n      name: 'gender',\n      values: ['Male', 'Female', 'All'],\n      inputClasses: ['input radio-input', 'filter-form-input__radio', 'visually-hidden'],\n      imgClasses: [],\n      labelClasses: ['form-label', 'filter-form__label'],\n      formClasses: ['form', 'filter-form'],\n      spanClasses: ['label', 'label-radio'],\n      fieldsetClasses: ['fieldset', 'filter-form__fieldset'],\n      legendClasses: ['legend', 'filter-form__legend'],\n      legend: 'Filter by Gender',\n    },\n\n    {\n      name: 'alive',\n      values: ['Alive', 'Dead', 'All'],\n      inputClasses: ['input radio-input', 'filter-form-input__radio', 'visually-hidden'],\n      imgClasses: [],\n      labelClasses: ['form-label', 'filter-form__label'],\n      formClasses: ['form', 'filter-form'],\n      spanClasses: ['label', 'label-radio'],\n      fieldsetClasses: ['fieldset', 'filter-form__fieldset'],\n      legendClasses: ['legend', 'filter-form__legend'],\n      legend: 'Filter by Destiny',\n    },\n  ],\n\n  random: [\n    {\n      name: 'random',\n      values: ['Get random heroes'],\n      inputClasses: ['input radio-input', 'filter-form-input__radio', 'visually-hidden'],\n      imgClasses: [],\n      labelClasses: ['form-label', 'filter-form__label'],\n      formClasses: ['form', 'filter-form'],\n      spanClasses: ['label', 'label-radio'],\n      fieldsetClasses: ['fieldset', 'filter-form__fieldset'],\n      legendClasses: ['legend', 'filter-form__legend'],\n      legend: 'Gnerate random Heroes',\n    },\n  ],\n};\n\nexport { FORM_STATE };\n","import Hero from './hero.js';\nimport { FORM_STATE } from './buildState.js';\nimport styles from '../css/style.css';\nimport hat from '../img/hat.png';\n\nconst URL_ADDR = 'https://hp-api.herokuapp.com/api/characters';\nwindow.STATE = {\n  house: null,\n  gender: null,\n  name: null,\n  hogwarts: null,\n  isAlive: null,\n};\nwindow.styles = styles;\n\nfunction getheroesFromServer() {\n  return fetch(`${URL_ADDR}`)\n    .then(response => {\n      return response.json();\n    })\n    .then(dataHeroes => window.constructHeroesList(dataHeroes))\n    .catch(error => {\n      throw new Error('Cannot load the data. Please, reload');\n    });\n}\n\nfunction constructHeroesList(dataHeroes) {\n  let id = 1;\n  const heroes = dataHeroes.map(item => {\n    const hero = new Hero(item);\n    hero.id = id;\n    id += 1;\n    return hero;\n  });\n  return heroes;\n}\n\nwindow.constructHeroesList = constructHeroesList;\n\nfunction getRandomHero(dataHeroes) {\n  const index = Math.floor(Math.random() * dataHeroes.length);\n  return dataHeroes[index];\n}\n\nwindow.getRandomHero = getRandomHero;\n\nfunction getHero(dataHeroes, id) {\n  const hero = dataHeroes.find(item => item.id === id);\n  return hero;\n}\n\nwindow.getHero = getHero;\n\nfunction filterFromState(dataHeroes) {\n  const fileteredHeroes = Object.entries(window.STATE).reduce(\n    (initial, entry) =>\n      initial.then(result => {\n        if (entry[1] !== null) {\n          const [key, value] = entry;\n          if (value === 'All') {\n            return result;\n          }\n          const newdataHeroes = result.filter(hero => {\n            switch (key) {\n              case 'name':\n                return hero[key].toLowerCase().includes(value.toLowerCase());\n              default:\n                return hero[key].toLowerCase() === value.toLowerCase();\n            }\n          });\n          return new Promise((resolve, reject) => resolve(newdataHeroes));\n        }\n        return new Promise((resolve, reject) => resolve(result));\n      }),\n    Promise.resolve(dataHeroes),\n  );\n  return fileteredHeroes.then(resultHeroes => resultHeroes);\n}\n\nwindow.filterFromState = filterFromState;\n\nfunction generateOccupation(hero) {\n  let occupationTemplate = '';\n  if (hero.fromHogwarts()) {\n    if (hero.hogwartsStaff) {\n      occupationTemplate += 'Professor of ';\n    } else {\n      occupationTemplate += 'Student of ';\n    }\n  } else {\n    occupationTemplate += 'Not from ';\n  }\n  occupationTemplate += 'Hogwarts';\n  if (hero.house) {\n    occupationTemplate += `, ${hero.house}`;\n  }\n  occupationTemplate += '.';\n  return occupationTemplate;\n}\n\nwindow.generateOccupation = generateOccupation;\n\nfunction renderHeroSmall(hero) {\n  if (!hero) {\n    return null;\n  }\n  const template = `\n  <div class=\"${window.styles['hero-card']} ${window.styles['hero-card__small']}\" data-id=\"${\n    hero.id\n  }\" id=\"hero-card__small\">\n  <img src=\"${hero.image}\" alt=\"Photo of ${hero.name}\" width=\"80\" class=\"${window.styles['img']} ${\n    window.styles['card-img']\n  }  ${window.styles['card-img__small']}\" />\n  <div class=\"${window.styles['hero-description']}\">\n    <h3 class=\"${window.styles['title']} ${window.styles['card-title']}\">${hero.name}</h3>\n    <p class=\"${window.styles['text']} ${window.styles['card-text']}\">\n      <span class=\"${window.styles['hero-name']}\">${hero.name}</span> was bourn\n      <span class=\"${window.styles['hero-birth-date']}\">${hero.dateOfBirth}</span>.\n      <span class=\"${window.styles['hero-occupation']}\">${window.generateOccupation(hero)}</span>\n    </p>\n  </div>\n</div>`;\n  return template;\n}\n\nwindow.renderHeroSmall = renderHeroSmall;\n\nfunction renderHeroBig(hero) {\n  if (!hero) {\n    return null;\n  }\n  const template = `\n  <div class=\"${window.styles['hero-card']} ${\n    window.styles['hero-card__big']\n  }\" id = \"hero-card__big\">\n    <img src=\"${hero.image}\" alt=\"Photo of ${hero.name}\" width=\"150\" class=\"${\n    window.styles['img']\n  } ${window.styles['card-img']} ${window.styles['card-img__big']}\" />\n    <div class=\"${window.styles['hero-description']}\">\n      <h2 class=\"${window.styles['title']} ${window.styles['card-title']}\">${hero.name}</h2>\n      <p class=\"${window.styles['text']} ${window.styles['card-text']}\">\n      <span class=\"${window.styles['hero-name']}\">${hero.name}</span> was bourn\n      <span class=\"${window.styles['hero-birth-date']}\">${hero.dateOfBirth}</span>.\n      <span class=\"${window.styles['hero-occupation']}\">${window.generateOccupation(hero)}</span>\n      </p>\n      <p class=\"${window.styles['text']} ${window.styles['card-text']}\">\n        Has <span class=\"${window.styles['hero-hair']}\">${hero.hairColour}</span> hair,\n        <span class=\"${window.styles['hero-eyes']}\">${hero.eyeColour}</span> eyes. Patronus -\n        <span class=\"${window.styles['hero-patronus']}\">${hero.patronus}</span>\n      </p>\n      <p class=\"${window.styles['text']} ${window.styles['card-text']}\">\n        Acted by\n        <span class=\"${window.styles['hero-actor']}\">${hero.actor}</span>.\n      </p>\n    </div>\n  </div>`;\n  return template;\n}\n\nwindow.renderHeroBig = renderHeroBig;\n\nfunction renderHeroesList(heroes) {\n  let template = '';\n  heroes.forEach(hero => {\n    const heroTemplate = window.renderHeroSmall(hero);\n    if (heroTemplate) {\n      template += heroTemplate;\n    }\n  });\n  return template;\n}\n\nwindow.renderHeroesList = renderHeroesList;\n\nfunction createImg(value, state) {\n  return `<img class=\"${state.imgClasses.map(_class => window.styles[_class] || _class).join(' ')}\"\n  src=${state['imgUrls'][value]} alt=${value} width=${value === 'All' ? '150' : '120'}/>`;\n}\n\nwindow.createImg = createImg;\n\nfunction createInputContainer(state, imgNeed, isFieldset) {\n  const label = window.createInput(state, imgNeed);\n  if (isFieldset) {\n    return `<fieldset class=\"${state.fieldsetClasses\n      .map(_class => window.styles[_class] || _class)\n      .join(' ')}\">\n      <legend class=\"${state.legendClasses\n        .map(_class => window.styles[_class] || _class)\n        .join(' ')}\">${state.legend}</legend>\n        ${label}\n    </fieldset>`;\n  }\n  return label;\n}\n\nwindow.createInputContainer = createInputContainer;\n\nfunction createInput(state, imgNeed) {\n  let templateInput = ``;\n  state['values'].forEach(value => {\n    const label = `<label class=\"${state.labelClasses\n      .map(_class => window.styles[_class] || _class)\n      .join(' ')}\">\n      <input type=\"radio\" class=\"${state.inputClasses\n        .map(_class => window.styles[_class] || _class)\n        .join(' ')}\" name=\"${state.name}\" value=${value}></input>\n      ${imgNeed === true ? window.createImg(value, state) : ''}\n      <span class=\"${state.spanClasses.map(_class => window.styles[_class] || _class).join(' ')}\">${\n      value.length > 0 ? value : 'None'\n    }</span>\n    </label>\n    `;\n    templateInput += label;\n  });\n  return templateInput;\n}\n\nwindow.createInput = createInput;\n\nfunction createForm(\n  formState,\n  listener,\n  imgNeed = false,\n  isFieldset = false,\n  resetNeed = false,\n  isSearchNeed,\n  resetFilterHandler = null,\n) {\n  let template = `\n  <form class=\"${formState[0].formClasses\n    .map(_class => window.styles[_class] || _class)\n    .join(' ')}\" onchange='(${listener})(event);'>`;\n  for (let _state of formState) {\n    template += window.createInputContainer(_state, imgNeed, isFieldset);\n  }\n\n  if (isSearchNeed) {\n    template += `\n    <fieldset class=\"${['fieldset', 'filter-form__fieldset']\n      .map(_class => window.styles[_class] || _class)\n      .join(' ')}\">\n    <label class=\"${['form-label', 'filter-form__label', 'form-label__text']\n      .map(_class => window.styles[_class] || _class)\n      .join(' ')}\">\n      <input\n        type=\"search\"\n        name=\"name\"\n        class=\"${['input', 'text-input', 'filter-form-input__text']\n          .map(_class => window.styles[_class] || _class)\n          .join(' ')}\"\n        placeholder=\"Hero's name\" onchange='(event.istopPropagation(); ${listener})(event)';\n      />\n      <span class=\"${window.styles['visually-hidden']}\">Search</span>\n    </label>\n  </fieldset>\n    `;\n  }\n  if (resetNeed) {\n    template += `\n        <button type=\"reset\" class=\"${['btn', 'btn-reset']\n          .map(_class => window.styles[_class] || _class)\n          .join(\n            ' ',\n          )}\" name=\"reset\" type=\"reset\" onclick='(${resetFilterHandler})();'>Reset</button>`;\n  }\n  template += `</form>`;\n  return template;\n}\n\nwindow.createForm = createForm;\n\nfunction createHeader(funcFaculty) {\n  return `\n  <header class=\"${window.styles.header}\">\n    <div class=\"${window.styles.wrapper}\">\n      <h1 class \"${window.styles.title} ${\n    window.styles['title-main'] || 'title-main'\n  }\">Welcome to the magic World of Hogwarts</h1>\n      ${window.createForm(FORM_STATE.faculty, funcFaculty, true)}\n    </div>\n  </header>\n  `;\n}\n\nwindow.createHeader = createHeader;\n\nfunction createAside(filterHandler, resetHandler) {\n  return `\n  <aside class=\"${window.styles.aside}\">\n  ${window.createForm(FORM_STATE.filter, filterHandler, false, true, true, true, resetHandler)}\n  </aside>\n  `;\n}\n\nwindow.createAside = createAside;\n\nfunction createMain(hero, heroList, cardHandler, error) {\n  const buttons = `<button type=\"button\" class=\"${window.styles['btn']} ${window.styles['btn-list']} ${window.styles['btn-list__left']}\" data-dir=\"1\" onclick='(${sliderMove})(event);'>&lsaquo;</button>\n                      <button type=\"button\" class=\"${window.styles['btn']} ${window.styles['btn-list']} ${window.styles['btn-list__right']}\" data-dir=\"-1\" onclick='(${sliderMove})(event);'>\n                        &rsaquo;\n                      </button>`;\n  let template = `\n  <main class=\"${window.styles.main}\">\n    <div class=\"${window.styles.results}\">\n    ${error ? buttons : ''}\n      <div class=\"${window.styles['hero-list']}\">\n          ${hero ? hero : window.createErrorTemplate(error) || ''}\n      </div>\n      <div class=\"${window.styles['hero-list__wrapper']}\">\n            <div class=\"${window.styles['hero-list__slider']}\" onclick='(${cardHandler})(event);'>\n              ${heroList ? heroList : ''}\n            </div>\n      </div>\n    </div>\n  </main>\n  `;\n  return template;\n}\n\nwindow.createMain = createMain;\n\nfunction createErrorTemplate(error) {\n  return `\n  <div class=\"${window.styles.error}\">\n  <img src=\"${hat}\" alt=\"Sorting hat\" class=\"${window.styles.img} ${window.styles['img-hat']}\"/>\n  <h1 class \"${window.styles.title} ${\n    window.styles['title-main'] || 'title-main'\n  }\" style=\"color: #2a221e\">${error}</h1>\n  <button tyle=\"button\" class=\"${['btn', 'btn-reset']\n    .map(_class => window.styles[_class] || _class)\n    .join(' ')}\" name=\"reload\" onclick='(${reloadApp})();'>Reload</button>\n  </div>\n  `;\n}\n\nwindow.createErrorTemplate = createErrorTemplate;\n\nfunction createBodyMain(hero, heroesList, formHandler, cardHandler, resetHandler, error) {\n  return `\n  <div class = \"${window.styles.wrapper} ${window.styles['main-wrapper'] || 'main-wrapper'}\">\n    ${window.createAside(formHandler, resetHandler)}\n    ${window.createMain(hero, heroesList, cardHandler, error)}\n  </div>\n  `;\n}\n\nwindow.createBodyMain = createBodyMain;\n\nfunction renderApp(dataHeroes, id, error) {\n  let hero = null;\n  let heroesListTemplate = '';\n  let heroTemplate = null;\n  try {\n    if (dataHeroes.length > 0) {\n      heroesListTemplate += window.renderHeroesList(dataHeroes);\n    }\n    if (id != null) {\n      hero = window.getHero(dataHeroes, id);\n    } else {\n      hero = window.getRandomHero(dataHeroes);\n    }\n    heroTemplate = window.renderHeroBig(hero);\n  } catch {\n    heroesListTemplate = '';\n  }\n  if (heroTemplate === undefined || heroTemplate === null) {\n    heroTemplate = '';\n  }\n  let template = window.createHeader(formFilterHandler);\n  template += window.createBodyMain(\n    heroTemplate,\n    heroesListTemplate,\n    formFilterHandler,\n    cardHandler,\n    resetFilterHandler,\n    error,\n  );\n  document.querySelector('.container').innerHTML = template;\n}\n\nwindow.renderApp = renderApp;\n\nfunction updateUrl() {\n  const url = new URL(window.location.href);\n  for (let param in window.STATE) {\n    let searchParam = url.searchParams.get(param);\n    try {\n      window.STATE[param] = searchParam;\n    } catch {\n      window.STATE[param] = null;\n    }\n  }\n  window.history.pushState({}, '', url);\n}\n\nwindow.updateUrl = updateUrl;\n\nfunction setUrl() {\n  const url = new URL(window.location.href);\n  url.search = '';\n  for (let param in window.STATE) {\n    if (window.STATE[param] === null) {\n      url.searchParams.delete(param);\n    } else {\n      url.searchParams.set(param, window.STATE[param]);\n    }\n  }\n  window.history.pushState({}, '', url);\n}\n\nwindow.setUrl = setUrl;\n\nfunction formFilterHandler(event) {\n  const element = event.target.closest('input');\n  if (!element) {\n    return;\n  }\n  switch (element.value) {\n    case 'all':\n      window.STATE[element.name] = null;\n      break;\n    default:\n      window.STATE[element.name] = element.value;\n  }\n  window.setUrl();\n  window.heroes\n    .then(dataHeroes => window.filterFromState(dataHeroes))\n    .then(dataHeroes => {\n      if (dataHeroes.length === 0) {\n        throw new Error('No one magic hero match the parameters. Please, select something else.');\n      }\n      window.renderApp(dataHeroes);\n    })\n    .catch(error => window.renderApp([], null, error));\n}\n\nfunction resetFilterHandler() {\n  window.STATE = {\n    house: null,\n    gender: null,\n    name: null,\n    staff: null,\n    isAlive: null,\n  };\n  window.setUrl();\n  window.heroes.then(dataHeroes => {\n    window.renderApp(dataHeroes, null);\n  });\n}\n\nwindow.resetFilterHandler = resetFilterHandler;\n\nfunction createApp(id = null) {\n  window.heroes\n    .then(heroes => window.filterFromState(heroes))\n    .then(heroes => window.renderApp(heroes, id))\n    .catch(error => window.renderApp([], null, error));\n  window.updateUrl();\n}\n\nwindow.createApp = createApp;\n\nfunction reloadApp() {\n  window.resetFilterHandler();\n}\n\nwindow.reloadApp = reloadApp;\n\nfunction cardHandler(event) {\n  const card = event.target.closest(`div.${window.styles['hero-card__small']}`);\n  let id = false;\n  if (!card) {\n    return;\n  }\n  id = +card.dataset.id;\n  if (Object.values(window.STATE).some(value => !!value)) {\n    random = null;\n  }\n  window.createApp(id);\n}\n\nfunction sliderMove(event) {\n  const slider = document.querySelector(`.${window.styles['hero-list__slider']}`);\n  const sliderWidth = slider.offsetWidth;\n  const cardWidth =\n    document.querySelector(`.${window.styles['hero-card__small']}`).offsetWidth + 15;\n  const direction = +event.target.dataset.dir;\n  const cardsPerSlider = Math.round(sliderWidth / cardWidth);\n  const totalSliderWidth = cardWidth * slider.children.length;\n  const left = slider.style.left ? parseInt(slider.style.left, 10) : 0;\n  if (\n    Math.abs(left + direction * cardWidth) >\n    totalSliderWidth - (cardsPerSlider === 1 ? cardsPerSlider : cardsPerSlider - 1) * cardWidth\n  ) {\n    slider.style.left = '0px';\n  } else if (left + direction * cardWidth > 0) {\n    slider.style.left = `-${\n      (slider.children.length * cardWidth - cardsPerSlider * cardWidth) * direction\n    }px`;\n  } else {\n    slider.style.left = `${left + cardWidth * direction}px`;\n  }\n}\n\nwindow.sliderMove = sliderMove;\n\nwindow.heroes = getheroesFromServer();\ncreateApp();\n"]}